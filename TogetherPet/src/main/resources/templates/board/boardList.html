<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<title>ì»¤ë®¤ë‹ˆí‹°</title>

<style>
* {
	margin: 0;
	padding: 0;
}

table {
	border-collapse: collapse;
}

caption {
	display: none;
}

a {
	text-decoration: none;
	color: inherit;
}

.board_list_wrap {
	padding: auto;
}

.board_list {
	width: 100%;
	border-top: 2px solid rgb(0, 0, 0);
}

.board_list tr {
	border-bottom: 1px solid #ccc;
}

.board_list th, .board_list td {
	padding: 10px;
	font-size: 14px;
}

.board_list td {
	text-align: center;
}

.board_list .tit {
	text-align: left;
}

.board_list .tit:hover {
	text-decoration: underline;
}

.board_list_wrap .paging {
	margin-top: 20px;
	text-align: center;
	font-size: 0;
}

.board_list_wrap .paging a {
	display: inline-block;
	margin-left: 10px;
	padding: 5px 10px;
	border-radius: 100px;
	font-size: 12px;
}

.board_list_wrap .paging a:first-child {
	margin-left: 0;
}

.board_list_wrap .paging a.bt {
	border: 1px solid #eee;
	background: #eee;
}

.board_list_wrap .paging a.num {
	border: 1px solid rgb(0, 0, 0);
	font-weight: 600;
	color: rgb(0, 0, 0);
}

.board_list_wrap .paging a.num.on {
	background: rgb(0, 0, 0);
	color: #fff;
}

.btn {
	margin: auto;
	display: block;
}

.col-auto {
	text-align: center;
}

</style>
</head>
<body>
	<article layout:fragment="content">
		<!--shop  area start-->
		<div class="shop_section shop_reverse">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 col-md-12">

						<!--breadcrumbs area start-->
						<div class="breadcrumb_content" style="margin: 50px;">
							<ul>
								<li><a href="index.html">home</a></li>
								<li>COMMUNITY</li>
								<li>COMMUNITY</li>
							</ul>
						</div>
						<!--breadcrumbs area end-->

						<div class="shop_banner d-flex align-items-center"
							data-bgimg="assets/img/bg/pexels-photo-59523.jpeg">
							<div class="shop_banner_text">
								<h2>
									essential <br> for my pets
								</h2>
								<p>
									The collections basic items <br> essential for all pets
								</p>
							</div>
						</div>



						<h1>TogetherPetğŸ¾</h1>
						<br>
						<h2><br>ë°˜ë ¤ë™ë¬¼ ì´ì•¼ê¸° ë° ë§ˆì´í« ìë‘<br> <br>ììœ ë¡œìš´ í† í¬ ì»¤ë®¤ë‹ˆí‹°ì…ë‹ˆë‹¤!  </h2>
						<br><br>
						<h4>íˆ¬ê²Œë” í« ì€ ê±´ê°•í•œ ì¸í„°ë„·ë¬¸í™”ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤.</h4>

						<br> <br> <br>

					<!-- í•„í„° ê²€ìƒ‰ ì‹œì‘ -->
		
					
					
					
					
					<!-- í•„í„° ê²€ìƒ‰ ë -->

						<!-- ê²€ìƒ‰ê¸°ëŠ¥ ì‹œì‘  -->
						<form class="row gy-2 gx-3 align-items-center" id="btn">
							<div class="col-auto">
								<select id="key" name="key">
									<option value="1">ì‘ì„±ì</option>
									<option value="2">ì œëª©</option>
									<option value="3">ì¹´í…Œê³ ë¦¬</option>
								</select>
							</div>

							<div class="col-auto">
								<input class="form-control" type="text" id="val" name="val">
							</div>
							<div class="col-auto">
								<button type="button" class="btn btn-dark" id="Serachbtn"
									onclick="searchCall()">ê²€ìƒ‰</button>
							</div>
						</form>
						<!-- ê²€ìƒ‰ê¸°ëŠ¥ ë  -->
						<br> <br>


						<!-- ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ ë°˜ë³µë¬¸ ìŠ¤íƒ€íŠ¸ -->
						<div class="board_list_wrap">
							<table class="board_list" id="list">
								<thead>
									<tr align="center">
										<th>ë²ˆí˜¸</th>
										<th>ì¹´í…Œê³ ë¦¬</th>
										<th>ì œëª©</th>
										<th>ì‘ì„±ì¼</th>
										<th>ì‘ì„±ì</th>
										<th>ì¡°íšŒìˆ˜</th>

									</tr>
								</thead>

								<tbody id="tb">
									<tr th:each="b : ${pageInfo.list}">
										<td><a th:href="@{boardSel(boardNo=${b.boardNo})}"
											th:text="${b.boardNo}"></a></td>
										<td><a th:href="@{boardSel(boardNo=${b.boardNo})}"
											th:text="${b.category}"></a></td>
										<td><a th:href="@{boardSel(boardNo=${b.boardNo})}"
											th:text="${b.title}"></a></td>
										<td th:text="${b.dt}"></td>
										<td th:text="${b.nickname}"></td>
										<td th:text="${b.hit}"></td>
									</tr>
								</tbody>
							</table>
							<!-- ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ ë°˜ë³µë¬¸ ë -->

							<br> <br> <br>

							<!-- ê²€ìƒ‰ì•„ì‘ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘  -->
							<script>
		
							$("#Serachbtn").on('click', searchCall)
		
								var token = $("meta[name='_csrf']").attr("content");
								var header = $("meta[name='_csrf_header']").attr("content");
	
										function searchCall() {
											  let key = document.getElementById('key').value;
		     								  let val = document.getElementById('val').value;
		     
		     
		    									 $.ajax({
		    										url : "boardajaxSearch",
		   											type : 'post',//method
		    										beforeSend : function(xhr){
													xhr.setRequestHeader(header, token)},
		    										data : {'key' : key, 'val' : val},
		    										dataType : 'json',
		    											success : function(response) {
														console.log(response);
														htmlView(response);
													},
														error : function () {
														console.log('ì˜¤ë¥˜');Â Â Â 
																			}
		    															 });
		     
		     function htmlView(data) {
		    	//htmlë¡œ ë³€í™˜í•´ì„œ ì›í•˜ëŠ” ìœ„ì¹˜ì— ì¶œë ¥í•˜ë„ë¡ êµ¬í˜„
					
				 $("#tb").remove();
		         var tbody = $("<tbody id='tb' />");
		        
		         $.each(data, function(index, item){
		            var row =  $('<tr>').attr("onclick", "searchCall("+ item.boardNo +")")
                    .append(
		                     $("<td />").text(item.boardNo),
		                     $("<td />").text(item.category),
		                     $("<td />").text(item.title),
		                     $("<td />").text(item.dt),
		                     $("<td />").text(item.nickname),
		                     $("<td />").text(item.hit),
		                         
		                  );
		            tbody.append(row);
		         });
		         $("#list").append(tbody);
			}
			
					     
					};
		</script>
							<!-- ê²€ìƒ‰ì•„ì‘ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ë  -->


							<!-- 	<div id="btn">
								<button type="button" class="btn btn-dark"
									onclick="location.href='boardFom'">ê¸€ë“±ë¡</button>
							</div> -->

							<div class="btnn">
								<button type="button" value="ë“±ë¡" class="btn btn-primary"
									onclick="location.href='boardFom'">ê¸€ë“±ë¡</button>
							</div>


						</div>



						<br> <br> <br>

						<!-- <!-- í˜ì´ì§•ì‹œì‘ -->
						<!-- 	<div class="pagination_style pagination justify-content-center">
							<ul class="d-flex">
								<li th:classappend="${b.getPrePage() == 0} ? 'disabled'">
								<a th:href="@{/page(pageNum=${b.getPrePage()}">ì•</a></li>
								<li><a href="#">1</a></li>
								<li><a class="current" href="#">2</a></li>
								<li><a href="#">3</a></li>
								<li><a href="#">4</a></li>
								<li><a href="#">5</a></li>
								<li><a href="#">ë’¤></a></li>
							</ul>
						</div>
						 -->

						<!-- í˜ì´ì§• ë -->


						<!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
						<nav aria-label="Page navigation example">
							<ul class="pagination pagination-info  justify-content-center">
								<li class="page-item disabled"
									th:if="${pageInfo.isIsFirstPage()}"><span
									class="page-link">Â«</span></li>
								<li class="page-item"
									th:if="${!pageInfo.isIsFirstPage() && pageInfo.getList().size() > 0}"><a
									class="page-link"
									th:href="|javascript:gopage([[${pageInfo.getPrePage()}]])|"
									rel="prev">Â«</a></li>
								<li
									th:class="|page-item ${(pageInfo.pageNum eq page) ? 'active': ''} |"
									th:each="page:${pageInfo.navigatepageNums}"><span
									class="page-link" th:if="${pageInfo.pageNum eq page}"
									th:text="${page}"></span> <a class="page-link"
									th:unless="${pageInfo.pageNum eq page}"
									th:href="|javascript:gopage(${page})|" th:text="${page}">{{$page
										}}</a></li>
								<li class="page-item" th:if="${pageInfo.hasNextPage}"><a
									class="page-link"
									th:href="|javascript:gopage([[${pageInfo.getNextPage()}]])|"
									rel="next">Â»</a></li>
								<li class="page-item disabled"
									th:unless="${pageInfo.hasNextPage}"><span
									class="page-link">Â»</span></li>
							</ul>
						</nav>

						<!-- í˜ì´ì§€ë„¤ì´ì…˜ -->




						<!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
						<!--  <div class="pagination_style pagination justify-content-center">
							<ul class="d-flex">
								<li th:if="${pageInfo.isIsFirstPage()}">pre</li>
								<li 
									th:if="${!pageInfo.isIsFirstPage() && pageInfo.getList().size() > 0}"><a
									class="current"
									th:href="|javascript:gopage([[${pageInfo.getPrePage()}]])|"
									rel="prev">Â«</a></li>
								<li
									th:class="|page-item ${(pageInfo.pageNum eq page) ? 'active': ''} |"
									th:each="page:${pageInfo.navigatepageNums}"><span
									 th:if="${pageInfo.pageNum eq page}"
									th:text="${page}"></span> <a class="current"
									th:unless="${pageInfo.pageNum eq page}"
									th:href="|javascript:gopage(${page})|" th:text="${page}">{{$page
										}}</a></li>
								<li th:if="${pageInfo.hasNextPage}"><a
									
									th:href="|javascript:gopage([[${pageInfo.getNextPage()}]])|"
									rel="next">end</a></li>
								<li 
									th:unless="${pageInfo.hasNextPage}"><span
									class="current"></span></li>
							</ul>
						</div> -->

						<!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
					</div>

					<script>
					function gopage(p) {
						location.href = '/boardList?pageNum=' + p;}
					</script>
				</div>
			</div>
		</div>
	</article>
</body>
</html>