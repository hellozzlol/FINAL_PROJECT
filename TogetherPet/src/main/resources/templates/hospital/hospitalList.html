<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<head>
<meta charset="UTF-8">
<meta id="_csrf" name="_csrf" th:content="${_csrf.token}" />
<meta id="_csrf_header" name="_csrf_header"
   th:content="${_csrf.headerName}" />




<style>
.btn{
 text-align: center;
 display: inline-block;
 position:Â absolute;

 }
 form{
 text-align: center;
 display: inline-block;
 position:Â absolute;
 }
</style>
<title>ë™ë¬¼ë³‘ì›</title>


</head>
<body>
	<article layout:fragment="content">
		<!--shop  area start-->
		<div class="shop_section shop_reverse">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 col-md-12">

						<!--breadcrumbs area start-->
						<div class="breadcrumb_content" style="margin: 50px;">
							<ul>
								<li><a href="index.html">home</a></li>
								<li>Petinfo</li>
								<li>hospital</li>
							</ul>
						</div>
						<!--breadcrumbs area end-->

						<div class="shop_banner d-flex align-items-center"
							data-bgimg="assets/img/bg/pexels-photo-59523.jpeg">
							<div class="shop_banner_text">
								<h2>
									essential <br> for my pets
								</h2>
								<p>
									The collections basic items <br> essential for all pets
								</p>
							</div>
						</div>


						<!--shop  area start-->
						<!-- <h1>í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤</h1>
						<table border="1" id="myTable" Class="table">
							<thead class="table-dark">
								<tr>
									<th>ë²ˆí˜¸</th>
									<th>ë³‘ì› ëª…</th>
									<th>ì£¼ì†Œ</th>
									<th>ì§„ë£Œì‹œê°„</th>
									<th>ì „í™”ë²ˆí˜¸</th>
									<th>ì¡°íšŒìˆ˜</th>

								</tr>
							</thead>
							<tbody>

								<tr th:each="h : ${hospital}">
									<td><a th:href="@{hospital(hospitalNo=${h.hospitalNo})}"
										th:text="${h.hospitalNo}"></a></td>
									<td><a th:href="@{hospital(hospitalNo=${h.hospitalNo})}"
										th:text="${h.name}"></a></td>
									<td th:text="${h.address}"></td>
									<td th:text="${h.workingHour}"></td>
									<td th:text="${h.call}"></td>
									<td th:text="${h.hit}"></td>
								</tr>
							</tbody>
						</table> -->

						<!-- ê²€ìƒ‰ê¸°ëŠ¥ ì‹œì‘  -->
					
						 <div class="input-group mb-3" id="btn" style="min-height: 100px;" >
							<table>
								<tr>
									<td width="100">
									<select id="key" name="key">
											<option value="1">ì§€ì—­</option>
											<option value="2">ë³‘ì›ëª…</option>
									</select>
									</td>
									<td>
									<input type="text" id="val" name="val">
									</td>
									
									
									<td width="100" align="center">
										<button type="button" id="Serachbtn" class="btn btn-dark">ê²€ìƒ‰</button>
									</td>
								</tr>
							</table>
						</div> 
						
						<!-- ê²€ìƒ‰ê¸°ëŠ¥ ë  -->

						<!-- ë³‘ì›ë¦¬ìŠ¤íŠ¸ ë°˜ë³µë¬¸ ì‹œì‘ -->
						<div class="row shop_wrapper">
							<div class="card" style="width: 18rem;" id="point" th:each="h:${hospital}">
								<img th:src="${h.hphoto}" alt="tab-thumb">
								<div class="card-body">

									<h5 class="card-title">ğŸ¶[[${h.name}]]</h5>
									<p class="card-text">â°[[${h.workingHour}]]</p>
									<p class="card-text" th:text="${h.address}"></p>
									<p class="card-text">ğŸ˜„[[${h.hit}]]</p>
									<a th:href="@{hospital(hospitalNo=${h.hospitalNo})}"
										class="btn btn-primary">ë”ë³´ê¸°</a>
								</div>
							</div>
						</div>
						<!-- ë³‘ì›ë¦¬ìŠ¤íŠ¸ ë°˜ë³µë¬¸ ë -->
					</div>
				</div>
			</div>
		</div>
		
<!-- ê²€ìƒ‰ì•„ì‘ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘  -->
		<script>
		
		$("#Serachbtn").on('click', searchCall)
		
		var token = $("meta[name='_csrf']").attr("content");
		var header = $("meta[name='_csrf_header']").attr("content");
	
		function searchCall() {
			  let key = document.getElementById('key').value;
		      let val = document.getElementById('val').value;
		     
		     
		     $.ajax({
		    	url : "hospitalajaxSearch",
		    	type : 'get',//method
		    	beforeSend : function(xhr){
				xhr.setRequestHeader(header, token)},
		    	data : {'key' : key, 'val' : val},
		    	dataType : 'json',
		    	success : function(response) {
					console.log(response);
					htmlView(response);
				},
				error : function () {
					console.log('ì˜¤ë¥˜');Â Â Â 
				}
		     });
		     
		     function htmlView(data) {
					//htmlë¡œ ë³€í™˜í•´ì„œ ì›í•˜ëŠ” ìœ„ì¹˜ì— ì¶œë ¥í•˜ë„ë¡ êµ¬í˜„
					
					 $(".shop_wrapper").empty();Â 
					 $(".host").remove();Â 
					 
				
					 for(h of data) {
					
						 var result = `
								<div class="card" id="point" style="width: 18rem;">
								<div class="card-body">
								<img src="${h.hphoto}" alt="tab-thumb">
									<h5 class="card-title">${h.name}</h5>
									<p class="card-text">â°${h.workingHour}</p>
									<p class="card-text">${h.address}</p>
									<p class="card-text">ì¡°íšŒìˆ˜${h.hit}</p>
									<a href="hospital?hospitalNo=${h.hospitalNo}"
										class="btn btn-primary">ë”ë³´ê¸°</a>
								</div>
							</div>
						</div>`
							 $(".shop_wrapper").append(result);Â 	
							//$(".host").append(".card-body");
					 
					 		};	
					 	};
					     
					};
		</script>
		<!-- ê²€ìƒ‰ì•„ì‘ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ë  -->
	</article>
</body>
</html>